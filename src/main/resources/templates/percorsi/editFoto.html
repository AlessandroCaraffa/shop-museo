<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<div th:replace="fragments/utility :: headTags"></div>
		<title>Aggiorna foto percorso</title>
	</head>
	<body>
		<!-- navbar -->
		<nav th:replace="fragments/navbar :: navbar"></nav>
		
		<div class="container">
		
			<h1><a th:href="@{/percorsi}"><i class="fas fa-arrow-circle-left"></i></a>
			Aggiorna foto percorso</h1>
			<hr/>
			
			<form id="form-foto" th:object="${foto}" th:action="@{/percorsi/editFoto/{id}(id=${percorso.id})}" method="post"
				enctype="multipart/form-data">
				<div class="row gy-2">
	
					<div class="col-3">
						<label for="titolo" class="form-label">Titolo</label>
						<input id="titolo" type="text" class="form-control" th:field="*{titolo}">
					</div>
					<div class="col-3">
						<label class="form-label" for="contenuto">Foto</label>
						<input type="file" class="form-control" id="contenuto" th:field="*{contenuto}">
					</div>
					
					<!-- buttons -->
					<div class="col-12 mb-2">
						<button class="btn btn-primary" type="submit"><i class="fas fa-check"></i> Save</button>
						<a class="btn btn-primary" th:href="@{/percorsi}"><i class="fas fa-times"></i> Cancel</a>
					</div>
				</div>
			</form>
		</div>
		
		<!-- foto percorso -->
		<div class="container">
			<div class="row">
				<div th:each="item : ${percorso.getFoto()}" class="col-3">
					<div class="card">
						<img th:src="|/percorsi/${item.getId()}/foto|" class="card-img-top" style="width: 100%">
					</div>
					<a class="mt-2" th:href="@{|/percorsi/${percorso.id}/deleteFoto/${item.getId()}|}" onclick="return confirm('Are you sure?')"><i class="fas fa-trash-alt"></i></a>
				</div>
			</div>
		</div>
		
		<!-- scripts -->
		<div th:replace="fragments/utility :: scripts"></div>
	</body>
</html>
